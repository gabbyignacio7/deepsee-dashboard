// JIRA Metrics Data - Updated February 6, 2026
// Source: JIRA API - Sprint 2026-S3 (Day 7 of 14)
// DO NOT EDIT MANUALLY - This file is regenerated by scripts/fetch-jira-data.js

export interface JiraMetrics {
  lastUpdated: string;
  extractionSource: string;
  sprintInfo: {
    name: string;
    dates: string;
    daysRemaining: number;
    totalStoryPoints: number;
    avgVelocity: number;
    overCommitment: string;
  };
  overall: {
    totalActiveTickets: number;
    totalInProgress: number;
    totalToDo: number;
    totalCodeReview: number;
    totalBlocked: number;
    totalDone: number;
    totalWithStoryPoints: number;
  };
  storyPoints: {
    completed: number;
    inProgress: number;
    notStarted: number;
    completionRate: number;
  };
  engineerSummary: {
    activeEngineers: number;
    engineersWithNoTickets: string[];
    highestLoad: { name: string; tickets: number }[];
  };
  longRunningTickets: Array<{
    id: string;
    title: string;
    assignee: string;
    status: string;
    daysInStatus: number;
    warningLevel: 'critical' | 'warning' | 'normal';
    reason?: string;
  }>;
}

export const jiraMetrics: JiraMetrics = {
  lastUpdated: "February 6, 2026 at 2:22 PM MT",
  extractionSource: "JIRA API - 2026-S3",

  sprintInfo: {
    name: "2026-S3",
    dates: "Jan 30 - Feb 13, 2026",
    daysRemaining: 7,
    totalStoryPoints: 210,
    avgVelocity: 80,
    overCommitment: "163% over average velocity"
  },

  overall: {
    totalActiveTickets: 109,
    totalInProgress: 14,
    totalToDo: 52,
    totalCodeReview: 5,
    totalBlocked: 2,
    totalDone: 30,
    totalWithStoryPoints: 66
  },

  storyPoints: {
    completed: 80,
    inProgress: 50,
    notStarted: 80,
    completionRate: 38
  },

  engineerSummary: {
    activeEngineers: 13,
    engineersWithNoTickets: ["Loris Friedel", "Karolina Toman"],
    highestLoad: [
      { name: "Owen Riley", tickets: 9 },
      { name: "Kalvin Willison", tickets: 7 },
      { name: "Ivan Peev", tickets: 6 }
    ]
  },

  longRunningTickets: [
    {
      id: "SC-326",
      title: "Pentest - Access Control",
      assignee: "Unassigned",
      status: "To Do",
      daysInStatus: 7,
      warningLevel: "critical",
      reason: "Critical pentest finding — unassigned"
    },
    {
      id: "UI-743",
      title: "Deep Recon - Make aggregated report exportable (Broadridge)",
      assignee: "Unassigned",
      status: "Blocked",
      daysInStatus: 5,
      warningLevel: "critical",
      reason: "Blocked AND unassigned — no owner to resolve"
    },
    {
      id: "BACK-1863",
      title: "[Colony] Allegro post process validation",
      assignee: "Unassigned",
      status: "Blocked",
      daysInStatus: 5,
      warningLevel: "critical",
      reason: "Blocked AND unassigned — no owner to resolve"
    },
    {
      id: "BACK-1862",
      title: "Colony Bank duplicate project",
      assignee: "Konnor Willison",
      status: "To Do",
      daysInStatus: 3,
      warningLevel: "warning",
      reason: "Critical priority — not yet started"
    },
    {
      id: "BACK-1690",
      title: "Create data lifecycle management policies",
      assignee: "Unassigned",
      status: "To Do",
      daysInStatus: 29,
      warningLevel: "warning"
    }
  ]
};

export interface EpicProgress {
  key: string;
  description: string;
  progress: number;
  status: 'not_started' | 'in_progress' | 'complete';
}

export const epicProgress: EpicProgress[] = [
  { key: "BACK-1234", description: "BACK-1234 - 2 tickets", progress: 50, status: 'in_progress' },
  { key: "BACK-1650", description: "BACK-1650 - 3 tickets", progress: 33, status: 'in_progress' },
  { key: "PR-1562", description: "PR-1562 - 2 tickets", progress: 0, status: 'in_progress' },
  { key: "BACK-1656", description: "BACK-1656 - 4 tickets", progress: 0, status: 'not_started' },
  { key: "BACK-1680", description: "BACK-1680 - 15 tickets", progress: 0, status: 'not_started' },
  { key: "UI-694", description: "UI-694 - 3 tickets", progress: 0, status: 'not_started' },
  { key: "BACK-1726", description: "BACK-1726 - 4 tickets", progress: 0, status: 'not_started' },
  { key: "BACK-1758", description: "BACK-1758 - 4 tickets", progress: 0, status: 'not_started' }
];

// Sprint Comparison Data - Historical data preserved, current sprint updated
export const sprintComparison = {
  s1: { sprint: "2026-S1", committed: 87, completed: 68, rate: 78, status: "complete" },
  s2: { sprint: "2026-S2", committed: 98, completed: 64, rate: 65, status: "complete" },
  s3: { sprint: "2026-S3", committed: 210, completed: 80, rate: 38, status: "in_progress" }
};
